FROM opensuse/leap:15.3
LABEL maintainer="S.Mehran M.Ziabary <ziabary@targoman.com>"

WORKDIR /

RUN zypper ref && \
    zypper --non-interactive in \
      libhiredis0_13 \
      libcurl4 \
      libQt5Sql5-mysql \
      libQt5Network5 \
      libQt5Concurrent5 \
      libQt5WebSockets5 \
      zlib && \
      mkdir -p /targoman/bin  /targoman/conf/TextProcessor/

COPY run-targoman.sh .

EXPOSE 10000
ENTRYPOINT [ "run-targoman.sh" ]
